docker exec -it pg_local psql -U pguser -d finance
Quick Postgres CLI Checks
-- List all tables
\dt

-- Describe a table
\d party

-- View sample data
SELECT * FROM party;

-- Exit PostgreSQL CLI
\q

Tips for Daily Use

Open Postgres CLI inside container

docker exec -it pg_local psql -U pguser -d finance


Run a single command without entering CLI

docker exec -it pg_local psql -U pguser -d finance -c "\dt"
docker exec -it pg_local psql -U pguser -d finance -c "SELECT * FROM party;"


Check container status

docker ps --filter "name=pg_local"


Stop / restart container

docker stop pg_local
docker start pg_local
docker restart pg_local


*************************************
SELECT rolname, rolreplication FROM pg_roles WHERE rolname='repluser';

CREATE ROLE repluser WITH REPLICATION LOGIN PASSWORD 'replpass';


ALTER SYSTEM SET wal_level = 'logical';
ALTER SYSTEM SET max_wal_senders = 10;
ALTER SYSTEM SET max_replication_slots = 10;


sudo nano /etc/ssh/sshd_config
GatewayPorts yes
AllowTcpForwarding yes


docker exec -it pg_local psql -U pguser -d finance

ssh -i "C:\Users\ADMIN\Downloads\new-key-pair.pem" `
    -R 0.0.0.0:5432:localhost:5432 `
    -o ServerAliveInterval=60 `
    -o ServerAliveCountMax=180 `
    ec2-user@34.244.43.92




SHOW wal_level;
SHOW max_wal_senders;
SHOW max_replication_slots;


DataFormat=parquet;IncludeOpForFullLoad=Y;ParquetTimestampInMillisecond=Y;CompressionType=GZIP;DatePartitionEnabled=true;DatePartitionSequence=YYYY/MM/DD;DatePartitionDelimiter=/;
DataFormat=parquet;IncludeOpForFullLoad=Y;ParquetTimestampInMillisecond=Y;CompressionType=GZIP;DatePartitionEnabled=true;DatePartitionSequence=YYYYMMDD;DatePartitionDelimiter=/;
DataFormat=parquet;IncludeOpForFullLoad=Y;ParquetTimestampInMillisecond=Y;CompressionType=GZIP;DatePartitionEnabled=true;DatePartitionSequence=YYYYMMDD;
DataFormat=parquet;IncludeOpForFullLoad=Y;ParquetTimestampInMillisecond=Y;CompressionType=GZIP;DatePartitionEnabled=true;DatePartitionSequence=YYYYMMDD




docker exec -it pg_local psql -U pguser -d finance


ssh -i "C:\Users\ADMIN\Downloads\new-key-pair.pem" `
    -R 0.0.0.0:5432:localhost:5432 `
    -o ServerAliveInterval=60 `
    -o ServerAliveCountMax=180 `
    ec2-user@34.244.43.92